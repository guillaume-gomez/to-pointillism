(this["webpackJsonppointillism-converter"]=this["webpackJsonppointillism-converter"]||[]).push([[0],{15:function(e,t){},16:function(e,t){},30:function(e,t,n){},31:function(e,t,n){},40:function(e,t){},68:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(22),s=n.n(c),i=(n(30),n(2)),l=(n(31),n(5)),o=n(0);var u=function(e){var t=e.steps,n=e.currentStep,r=Object(a.useState)(0),c=Object(i.a)(r,2),s=c[0],u=c[1];return Object(a.useEffect)((function(){var e=Object(l.findIndex)(t,(function(e){return e===n}));u(-1===e?0:e)}),[n]),Object(o.jsx)("ul",{className:"steps w-full overflow-auto",children:t.map((function(e,t){return t<=s?Object(o.jsx)("li",{className:"step step-primary text-neutral-content",children:Object(o.jsx)("span",{className:"hidden lg:block xl:block 2xl:block",children:e})},e):Object(o.jsx)("li",{className:"step text-neutral-content",children:Object(o.jsx)("span",{className:"hidden lg:block xl:block 2xl:block",children:e})},e)}))})};var h=function(e){var t=e.onChange;return Object(o.jsxs)("label",{className:"w-full flex flex-col items-center px-4 py-6 bg-white text-primary rounded-lg shadow-lg tracking-wide uppercase border-2 border-primary transition duration-300 ease-in-out bg-opacity-50 cursor-pointer hover:bg-primary hover:text-white",children:[Object(o.jsx)("svg",{className:"w-8 h-8",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(o.jsx)("path",{d:"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"})}),Object(o.jsx)("span",{className:"mt-2 leading-normal",children:"Select a picture"}),Object(o.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:t})]})};var d=function(e){var t=e.width,n=void 0===t?"w-28":t,a=e.height,r=void 0===a?"w-28":a;return Object(o.jsx)("svg",{className:"".concat(n," ").concat(r),version:"1.1",id:"L9",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 100 100",enableBackground:"new 0 0 0 0",children:Object(o.jsx)("path",{fill:"white",d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50",children:Object(o.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})})})};var j=function(e){var t=e.value,n=e.onChange,a=e.min,r=void 0===a?1:a,c=e.max,s=void 0===c?100:c,i=e.step,l=void 0===i?1:i;return Object(o.jsx)("input",{type:"range",onChange:function(e){return n(e.target.value)},min:r,max:s,value:t,step:l,className:"range range-primary"})};var b=function(e){var t=e.value,n=e.onChange,a=e.min,r=void 0===a?1:a,c=e.max,s=void 0===c?100:c,i=(e.step,e.label);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"flex justify-between",children:[Object(o.jsx)("label",{className:"text-base font-semibold",children:i}),Object(o.jsx)("p",{className:"badge badge-lg",children:t})]}),Object(o.jsx)(j,{value:t,onChange:n,min:r,max:s})]})};var f=function(e){var t=e.value,n=e.onChange,a=e.min,r=void 0===a?1:a,c=e.max,s=void 0===c?100:c;return Object(o.jsxs)("div",{className:"w-full",children:[Object(o.jsx)(b,{label:"Thickness ",value:t,onChange:n,min:r,max:s,step:1}),Object(o.jsx)("span",{className:"text-xs",children:"The thickness of the brush. You can let the algorithm choose for you."})]})};var x=function(e){var t=e.value,n=e.onChange,a=e.min,r=void 0===a?1:a,c=e.max,s=void 0===c?100:c;return Object(o.jsxs)("div",{className:"w-full",children:[Object(o.jsxs)("div",{className:"flex justify-between text-base font-semibold",children:[Object(o.jsx)("label",{children:"More Artistic"}),Object(o.jsx)("label",{children:"More Realistic"})]}),Object(o.jsx)(j,{value:t,onChange:n,min:r,max:s,step:1}),Object(o.jsxs)("div",{className:"flex justify-between",children:[Object(o.jsx)("span",{className:"text-xs",children:"The more the algorithm is artistic, the more it will apply distortion on base image."}),Object(o.jsx)("span",{className:"badge badge-lg",children:t})]})]})};var m=function(e){var t=e.value,n=e.onChange;return Object(o.jsx)("div",{className:"w-full",children:Object(o.jsx)(b,{label:"Palette Size",value:t,onChange:n,min:5,max:20,step:1})})};var p=function(){return Object(o.jsx)("footer",{className:"p-4 footer bg-base-300 text-base-content footer-center p-6",children:Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:" 2021 - Made By Guillaume Gomez"}),Object(o.jsx)("a",{href:"https://github.com/guillaume-gomez/to-pointillism",className:"text-xs",children:"Did you enjoyed ? \ud83d\ude0a Star the project "}),Object(o.jsx)("a",{"aria-label":"Github",target:"_blank",rel:"noreferrer",href:"https://github.com/guillaume-gomez/to-pointillism",className:"btn btn-square",children:Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"inline-block w-6 h-6 fill-current",children:Object(o.jsx)("path",{d:"M256,32C132.3,32,32,134.9,32,261.7c0,101.5,64.2,187.5,153.2,217.9a17.56,17.56,0,0,0,3.8.4c8.3,0,11.5-6.1,11.5-11.4,0-5.5-.2-19.9-.3-39.1a102.4,102.4,0,0,1-22.6,2.7c-43.1,0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1,1.4-14.1h.1c22.5,2,34.3,23.8,34.3,23.8,11.2,19.6,26.2,25.1,39.6,25.1a63,63,0,0,0,25.6-6c2-14.8,7.8-24.9,14.2-30.7-49.7-5.8-102-25.5-102-113.5,0-25.1,8.7-45.6,23-61.6-2.3-5.8-10-29.2,2.2-60.8a18.64,18.64,0,0,1,5-.5c8.1,0,26.4,3.1,56.6,24.1a208.21,208.21,0,0,1,112.2,0c30.2-21,48.5-24.1,56.6-24.1a18.64,18.64,0,0,1,5,.5c12.2,31.6,4.5,55,2.2,60.8,14.3,16.1,23,36.6,23,61.6,0,88.2-52.4,107.6-102.3,113.3,8,7.1,15.2,21.1,15.2,42.5,0,30.7-.3,55.5-.3,63,0,5.4,3.1,11.5,11.4,11.5a19.35,19.35,0,0,0,4-.4C415.9,449.2,480,363.1,480,261.7,480,134.9,379.7,32,256,32Z"})})})]})})},v=n.p+"static/media/monaLisa.c9f2cafc.jpeg";var g=function(){return Object(o.jsxs)("div",{className:"navbar mb-2 bg-neutral-focus text-neutral-content p-6",children:[Object(o.jsx)("img",{className:"rounded-lg",src:v,width:"64px"}),Object(o.jsxs)("div",{className:"px-2 mx-2 navbar-start flex flex-col gap-1 items-start",children:[Object(o.jsx)("span",{className:"text-2xl font-bold",children:"Pointillism"}),Object(o.jsx)("span",{className:"text-xs",children:"Convert your pictures into art pieces in one click"})]}),Object(o.jsx)("div",{className:"navbar-end flex gap-2",children:Object(o.jsx)("a",{"aria-label":"Github",target:"_blank",rel:"noreferrer",href:"https://github.com/guillaume-gomez/to-pointillism",className:"btn btn-primary btn-square",children:Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"inline-block w-6 h-6 fill-current",children:Object(o.jsx)("path",{d:"M256,32C132.3,32,32,134.9,32,261.7c0,101.5,64.2,187.5,153.2,217.9a17.56,17.56,0,0,0,3.8.4c8.3,0,11.5-6.1,11.5-11.4,0-5.5-.2-19.9-.3-39.1a102.4,102.4,0,0,1-22.6,2.7c-43.1,0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1,1.4-14.1h.1c22.5,2,34.3,23.8,34.3,23.8,11.2,19.6,26.2,25.1,39.6,25.1a63,63,0,0,0,25.6-6c2-14.8,7.8-24.9,14.2-30.7-49.7-5.8-102-25.5-102-113.5,0-25.1,8.7-45.6,23-61.6-2.3-5.8-10-29.2,2.2-60.8a18.64,18.64,0,0,1,5-.5c8.1,0,26.4,3.1,56.6,24.1a208.21,208.21,0,0,1,112.2,0c30.2-21,48.5-24.1,56.6-24.1a18.64,18.64,0,0,1,5,.5c12.2,31.6,4.5,55,2.2,60.8,14.3,16.1,23,36.6,23,61.6,0,88.2-52.4,107.6-102.3,113.3,8,7.1,15.2,21.1,15.2,42.5,0,30.7-.3,55.5-.3,63,0,5.4,3.1,11.5,11.4,11.5a19.35,19.35,0,0,0,4-.4C415.9,449.2,480,363.1,480,261.7,480,134.9,379.7,32,256,32Z"})})})})]})},O=n(70);var w=function(e){var t=e.toggleCanvas,n=e.title,r=e.canvasId,c=e.collapsible,s=e.collapse,i=e.format,l=e.children,u=Object(a.useRef)(null),h=Object(a.useRef)(null);return Object(o.jsxs)("div",{className:"bg-neutral text-neutral-content collapse w-full border rounded-box border-base-300 collapse-arrow ".concat(c?"":"collapse-close"),children:[Object(o.jsx)("input",{type:"checkbox",checked:s,onChange:function(){return t()}}),Object(o.jsx)("div",{className:"collapse-title text-lg font-medium",children:n}),Object(o.jsxs)("div",{className:"collapse-content flex flex-col justify-center items-center gap-3",children:[Object(o.jsx)("canvas",{ref:u,className:"max-w-full rounded-lg",id:r}),l||null,Object(o.jsx)("div",{className:"flex flex-row self-end",children:Object(o.jsx)("a",{ref:h,className:"btn btn-primary",onClick:function(){if(u.current&&h.current){var e=u.current.toDataURL("image/".concat(i)),t=Object(O.a)(new Date,"dd-MM-yyyy-hh-mm");h.current.download="".concat(t,"-pointillism.").concat(i),h.current.href=e.replace(/^data:image\/[^;]/,"data:application/octet-stream")}},children:"Save"})})]})]})};var N=function(e){var t=e.brushStroke,n=e.brushOpacity,a=e.onChangeBrushStroke,r=e.onChangeBrushOpacity;return Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{className:"text-lg",children:"Advanced brush settings"}),Object(o.jsxs)("div",{className:"flex flex-row justify-between gap-5 pt-2",children:[Object(o.jsxs)("div",{className:"w-2/4",children:[Object(o.jsx)(b,{label:"Brush Strokes",value:t,onChange:function(e){return a(parseInt(e,10))},min:1,max:20}),Object(o.jsx)("span",{className:"text-xs",children:"Brush Strokes will change the 'length' of a line"})]}),Object(o.jsx)("div",{className:"divider divider-vertical"}),Object(o.jsxs)("div",{className:"w-2/4",children:[Object(o.jsx)(b,{label:"Brush Opacity",value:n,onChange:function(e){return r(parseInt(e,10))},min:1,max:255}),Object(o.jsx)("span",{className:"text-xs",children:"Brush Opacity will change the strengh of the pencil "})]})]})]})};var y=function(e){var t=e.hue,n=e.saturation,a=e.onChangeHue,r=e.onChangeSaturation;return Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{className:"text-lg",children:"Advanced palette settings"}),Object(o.jsxs)("div",{className:"flex flex-row justify-between gap-5 pt-2",children:[Object(o.jsxs)("div",{className:"w-2/4",children:[Object(o.jsx)(b,{label:"Hue Level",value:t,onChange:function(e){return a(parseInt(e,10))},min:0,max:360}),Object(o.jsx)("span",{className:"text-xs",children:"Hue level will change the second row in the palette"})]}),Object(o.jsx)("div",{className:"divider divider-vertical"}),Object(o.jsxs)("div",{className:"w-2/4",children:[Object(o.jsx)(b,{label:"Saturation Level",value:n,onChange:function(e){return r(parseInt(e,10))},min:0,max:100}),Object(o.jsx)("span",{className:"text-xs",children:"Saturation level will change the third and the fourth rows in the palette "})]})]})]})},C=n(3),S=n.n(C);var k=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){S.a.onRuntimeInitialized=function(){return r(!0)}}),[r]),{openCVLoaded:n,cv:S.a}},M=n(4),B=n.n(M),R=n(6),L=n(23);function P(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function A(e,t){return(e%t+t)%t}function I(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=n/2>>0,r=[],c=0;c<t;c+=n)for(var s=0;s<e;s+=n){var i=P(-a,a)+c,o=P(-a,a)+s;r.push([A(i,t),A(o,e)])}return Object(l.shuffle)(r)}function T(e,t,n,a){return t.slice(n,a).map((function(t){var n=Object(i.a)(t,2),a=n[0],r=n[1];return e.ucharPtr(a,r)}))}function E(e,t){var n=Math.random(),a=Object(L.bisect_left)(e,n);return a<t.length?t[a]:t[t.length-1]}function z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9,a=F(e,t),r=G(a);_(a,r);var c=a.map((function(e){return Object(l.sum)(e)}));return D(a,c),V(a,n*t.length),c=a.map((function(e){return Object(l.sum)(e)})),D(a,c),U(a)}var F=(new(n(24).GPU)).createKernel((function(e,t){return Math.sqrt(Math.pow(e[this.thread.y][0]-t[this.thread.x][0],2)+Math.pow(e[this.thread.y][1]-t[this.thread.x][1],2)+Math.pow(e[this.thread.y][2]-t[this.thread.x][2],2))})).setOutput([80,5e3]);function G(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=Object(l.max)(e[n]);return t}function _(e,t){for(var n=0;n<e.length;++n)for(var a=0;a<e[n].length;++a)e[n][a]=t[n]-e[n][a]}function D(e,t){for(var n=0;n<e.length;++n)for(var a=0;a<e[n].length;a++)e[n][a]=e[n][a]/t[n]}function V(e,t){for(var n=0;n<e.length;++n)for(var a=0;a<e[n].length;a++)e[n][a]=Math.exp(e[n][a]*t)}function U(e){for(var t=function(e){return function(t){return e+=t}},n=new Array(e.length),a=0;a<n.length;a++)n[a]=e[a].map(t(0));return n}var q=n(9),H=n(25),Y=n(8),X=n.n(Y);function J(e,t){var n=Object(i.a)(e,3),a=n[0],r=n[1],c=n[2];return[a,Math.min(100,r+t),c]}function W(e,t){var n,a=Object(i.a)(e,3),r=a[0],c=a[1],s=a[2];return[((r+t)%(n=360)+n)%n,c,s]}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=new H.a;return n.getPalette(e,t)}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,a=e.map((function(e){var n=Object(i.a)(e,3),a=n[0],r=n[1],c=n[2],s=X.a.rgb.hsl(a,r,c),l=Object(i.a)(s,3),o=l[0],u=l[1],h=l[2],d=J([o,u,h],t),j=Object(i.a)(d,3),b=(j[0],j[1]);j[2];return X.a.hsl.rgb([o,b,h])}));function r(){return e.map((function(e){var t=Object(i.a)(e,3),a=t[0],r=t[1],c=t[2],s=Math.random()*(n- -n)-n,l=X.a.rgb.hsl(a,r,c),o=Object(i.a)(l,3),u=o[0],h=o[1],d=o[2],j=W([u,h,d],s),b=Object(i.a)(j,3),f=b[0];b[1],b[2];return X.a.hsl.rgb([f,h,d])}))}return[].concat(Object(q.a)(e.slice(0)),Object(q.a)(a),Object(q.a)(r()),Object(q.a)(r()))}function Q(e,t){var n=document.getElementById(e);if(!n.getContext)throw new Error("cannot find canvas to draw palette");for(var a=n.getContext("2d"),r=t.length/4,c=n.width/r,s=c,l=t.length/r,o=0;o<l;++o)for(var u=0;u<r;++u){var h=Object(i.a)(t[u+o*r],3),d=h[0],j=h[1],b=h[2];a.fillStyle="rgb(".concat(d,", ").concat(j,", ").concat(b,")"),a.fillRect(c*u,s*o,c,s)}}function $(e,t,n){if(0===t)throw new Error("resize : maxWidth is equal to zero. Please fill a value > 0");if(0===n)throw new Error("resize : maxHeight is equal to zero. Please fill a value > 0");var a=Math.min(1,t/e.cols,n/e.rows);if(1!==a){var r=new S.a.Size(e.cols*a,e.rows*a),c=new S.a.Mat;return S.a.resize(e,c,r,0,0,S.a.INTER_AREA),c}return e}function ee(e){var t=new S.a.Mat(e.cols,e.rows,S.a.CV_8UC4);return S.a.cvtColor(e,t,S.a.COLOR_RGB2GRAY),t}function te(e,t){function n(e,t){return e.map((function(e){return e/t}))}var a=new S.a.Mat,r=new S.a.Mat;S.a.Scharr(e,a,S.a.CV_32F,1,0,1,0,S.a.BORDER_DEFAULT),S.a.Scharr(e,r,S.a.CV_32F,0,1,1,0,S.a.BORDER_DEFAULT);var c=S.a.matFromArray(a.rows,a.cols,S.a.CV_32F,n(a.data32F,t)),s=S.a.matFromArray(r.rows,r.cols,S.a.CV_32F,n(r.data32F,t));return a.delete(),r.delete(),[c,s]}function ne(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=2*n+1,c=new S.a.Size(r,r),s=new S.a.Mat,i=new S.a.Mat,l=0;l<a;++l)S.a.GaussianBlur(e,s,c,0,0,S.a.BORDER_DEFAULT),S.a.GaussianBlur(t,i,c,0,0,S.a.BORDER_DEFAULT);return[s,i]}function ae(e,t,n,a){return Math.atan2(t.floatAt(n,a),e.floatAt(n,a))}function re(e,t,n,a){return Math.hypot(e.floatAt(n,a),t.floatAt(n,a))}function ce(e){return e*(180/Math.PI)}var se=["drawPalette","greyOutput","canvasOutputX","canvasOutputY","canvasOutputXSmooth","canvasOutputYSmooth","medianBlur","finalResult"],ie=["palette","grey","gradiants","gradiantSmooth","medianBlur","generateGrid","done"];function le(e,t,n,a){return oe.apply(this,arguments)}function oe(){return(oe=Object(R.a)(B.a.mark((function e(t,n,a,r){var c,s=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.length>4&&void 0!==s[4]?s[4]:100,e.abrupt("return",new Promise((function(e){var s=Z(t,n);s=K(s,a,r),Q(se[0],s),setTimeout((function(){return e(s)}),c)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e,t){return he.apply(this,arguments)}function he(){return(he=Object(R.a)(B.a.mark((function e(t,n){var a,r=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>2&&void 0!==r[2]?r[2]:100,e.abrupt("return",new Promise((function(e){var r=ee(n);t.imshow(se[1],r),setTimeout((function(){return e(r)}),a)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t,n){return je.apply(this,arguments)}function je(){return(je=Object(R.a)(B.a.mark((function e(t,n,a){var r,c=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>3&&void 0!==c[3]?c[3]:100,e.abrupt("return",new Promise((function(e){var c=te(n,a);t.imshow(se[2],c[0]),t.imshow(se[3],c[1]),setTimeout((function(){return e(c)}),r)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e,t,n,a,r){return fe.apply(this,arguments)}function fe(){return(fe=Object(R.a)(B.a.mark((function e(t,n,a,r,c){var s,i=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=i.length>5&&void 0!==i[5]?i[5]:100,e.abrupt("return",new Promise((function(e){var i=Math.round(Math.max(n,a)/50),l=ne(r,c,i);t.imshow(se[4],l[0]),t.imshow(se[5],l[1]),setTimeout((function(){return e(l)}),s)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e,t){return me.apply(this,arguments)}function me(){return(me=Object(R.a)(B.a.mark((function e(t,n){var a,r=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>2&&void 0!==r[2]?r[2]:100,e.abrupt("return",new Promise((function(e){var r=t.Mat.zeros(n.cols,n.rows,t.CV_32F);t.medianBlur(n,r,11),t.imshow(se[6],r),setTimeout((function(){return e(r)}),a)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e,t,n,a,r,c,s,i){return ve.apply(this,arguments)}function ve(){return(ve=Object(R.a)(B.a.mark((function e(t,n,a,r,c,s,o,u){var h,d,j,b,f,x=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=u.brushThickness,d=u.brushOpacity,j=u.brushStroke,b=x.length>8&&void 0!==x[8]?x[8]:100,f=5e3,e.abrupt("return",new Promise((function(e){Object(l.range)(0,s.length,f).forEach((function(e){for(var l=Math.min(e+f,s.length),u=z(T(n,s,e,l),o),b=e;b<l;b++){var x=Object(i.a)(s[b],2),m=x[0],p=x[1],v=E(u[b%f],o),g=ce(ae(r,c,m,p))+90,O=Math.round(h+h*j*Math.sqrt(re(r,c,m,p))),w=new t.Scalar(v[0],v[1],v[2],d);t.ellipse(a,new t.Point(p,m),new t.Size(O,h),g,0,360,w,-1,t.LINE_AA)}})),t.imshow(se[7],a),setTimeout((function(){return e("ok")}),b)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(){return(ge=Object(R.a)(B.a.mark((function e(t,n,a,r,c,s,l,o,u){var h,d,j,b,f,x,m,p,v,g,O,w,N,y,C,S,k=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=k.length>9&&void 0!==k[9]?k[9]:100,e.next=3,le(n,c,s,l);case 3:return d=e.sent,u("palette"),e.next=7,t.imread(n);case 7:return j=e.sent,o&&(j=$(j,1280,780)),e.next=11,ue(t,j,h);case 11:return b=e.sent,u("grey"),e.next=15,de(t,b,a,h);case 15:return f=e.sent,x=Object(i.a)(f,2),m=x[0],p=x[1],u("gradiants"),e.next=22,be(t,j.rows,j.cols,m,p,h);case 22:return v=e.sent,g=Object(i.a)(v,2),O=g[0],w=g[1],u("gradiantSmooth"),b.delete(),m.delete(),p.delete(),e.next=32,xe(t,j,h);case 32:return N=e.sent,u("medianBlur"),y=I(j.cols,j.rows),setTimeout((function(){return u("generateGrid")}),h),C=performance.now(),e.next=39,pe(t,j,N,O,w,y,d,r,h);case 39:u("done"),S=performance.now(),console.log("Pointillism ->",S-C),j.delete(),N.delete(),O.delete(),w.delete();case 46:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oe=["Generate Palette","Grey Scale Image","Gradient on X axis","Gradient on Y axis","Gradient on X axis Smooth","Gradient on Y axis Smooth","Generate Median Blur Image","Final Result"],we=[!1,!1,!1,!1,!1,!1,!1,!1];var Ne=function(){var e=k(),t=e.cv,n=e.openCVLoaded,r=Object(a.useRef)(null),c=Object(a.useRef)(null),s=Object(a.useState)(""),l=Object(i.a)(s,2),j=l[0],b=l[1],v=Object(a.useState)(!1),O=Object(i.a)(v,2),C=O[0],S=O[1],M=Object(a.useState)(!1),B=Object(i.a)(M,2),R=B[0],L=B[1],P=Object(a.useState)(!1),A=Object(i.a)(P,2),I=A[0],T=A[1],E=Object(a.useState)(768),z=Object(i.a)(E,2),F=z[0],G=z[1],_=Object(a.useState)(1),D=Object(i.a)(_,2),V=D[0],U=D[1],q=Object(a.useState)(20),H=Object(i.a)(q,2),Y=H[0],X=H[1],J=Object(a.useState)(1),W=Object(i.a)(J,2),Z=W[0],K=W[1],Q=Object(a.useState)(255),$=Object(i.a)(Q,2),ee=$[0],te=$[1],ne=Object(a.useState)(20),ae=Object(i.a)(ne,2),re=ae[0],ce=ae[1],le=Object(a.useState)("jpeg"),oe=Object(i.a)(le,2),ue=oe[0],he=oe[1],de=Object(a.useState)(20),je=Object(i.a)(de,2),be=je[0],fe=je[1],xe=Object(a.useState)(we),me=Object(i.a)(xe,2),pe=me[0],ve=me[1];function Ne(){G(768),U(1),X(20),K(1),te(255),ce(20),he("jpeg"),fe(20)}function ye(e){e&&e.target&&e.target.files&&r.current&&(r.current.src=URL.createObjectURL(e.target.files[0]),r.current.onload=function(e){var t=function(e,t){var n=Math.max(e,t),a=Math.round(.001709*n-.9158);return Math.max(1,a)}(e.target.width,e.target.height);U(t)})}function Ce(e){b(e)}function Se(){b(""),ve(we),T(!0)}function ke(e){var t=pe.map((function(t,n){return e===n?!t:t}));ve(t)}return Object(a.useEffect)((function(){if(I&&r.current){var e={brushThickness:V,brushOpacity:ee,brushStroke:Z};(function(e,t,n,a,r,c,s,i,l){return ge.apply(this,arguments)})(t,r.current,F/100,e,Y,re,be,R,Ce).then((function(){T(!1),!1===pe[pe.length-1]&&ke(pe.length-1),c.current&&c.current.scrollIntoView({behavior:"smooth"})}))}}),[t,I]),Object(o.jsx)("div",{className:"bg-img",children:Object(o.jsxs)("div",{className:"container mx-auto flex flex-col gap-5 bg-neutral",children:[Object(o.jsx)(g,{}),Object(o.jsxs)("div",{className:"flex flex-col px-4 flex flex-col gap-5",children:[Object(o.jsx)("div",{className:"alert alert-warning",children:Object(o.jsxs)("div",{className:"flex-1",children:[Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"w-6 h-6 mx-2 stroke-current",children:Object(o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),Object(o.jsx)("label",{children:"The algorithm is resource intensive. So it may not finish on mobile phone or low configuration. Please consider using resize option."})]})}),n?function(){var e=I?Object(o.jsx)("div",{className:"flex justify-center",children:Object(o.jsx)(d,{width:"w-80"})}):Object(o.jsx)("div",{className:"flex justify-center",children:Object(o.jsxs)("div",{className:"flex flex-col items-center justify-center gap-8 py-4 w-4/5",children:[Object(o.jsx)("h2",{className:"flex text-3xl font-bold",children:"Settings"}),Object(o.jsx)(h,{onChange:ye}),Object(o.jsx)(x,{value:F,min:100,max:1536,onChange:function(e){return G(parseInt(e,10))}}),Object(o.jsx)(f,{value:V,min:1,max:20,onChange:function(e){return U(parseInt(e,10))}}),Object(o.jsxs)("div",{className:"w-full flex gap-5 items-center",children:[Object(o.jsxs)("div",{className:"w-2/4",children:[Object(o.jsx)("div",{className:"form-control",children:Object(o.jsxs)("label",{className:"cursor-pointer flex justify-between gap-2",children:[Object(o.jsx)("span",{className:"label-text text-neutral-content text-base font-semibold",children:"Resize Image "}),Object(o.jsx)("input",{type:"checkbox",checked:R,onChange:function(){L((function(e){return!e})),U(1)},className:"checkbox checkbox-primary checkbox-md"})]})}),Object(o.jsx)("span",{className:"text-xs",children:"Recommanded for heavy images on low configuration."})]}),Object(o.jsx)("div",{className:"divider divider-vertical"}),Object(o.jsxs)("div",{className:"w-2/4 flex flex-col gap-2",children:[Object(o.jsxs)("select",{onChange:function(e){return he(e.target.value)},value:ue,className:"select select-bordered select-primary max-w-xs text-primary bg-opacity-50",children:[Object(o.jsx)("option",{disabled:!0,children:"Select output format"}),Object(o.jsx)("option",{value:"png",children:"Png"}),Object(o.jsx)("option",{value:"jpeg",children:"Jpeg"})]}),Object(o.jsx)("span",{className:"text-xs",children:"Output format of the image. While Png preserve quality, Jpeg is a lightweight format. Brush opacity works only on Png. "})]})]}),Object(o.jsxs)("details",{className:"w-full",children:[Object(o.jsx)("summary",{className:"text-xl",children:"Advanced"}),Object(o.jsxs)("div",{className:"flex flex-col gap-8 pt-4",children:[Object(o.jsx)(m,{value:Y,onChange:function(e){return X(parseInt(e,10))}}),Object(o.jsx)(y,{hue:re,saturation:be,onChangeHue:ce,onChangeSaturation:fe})]}),Object(o.jsx)("div",{className:"flex flex-col gap-8 pt-4",children:Object(o.jsx)(N,{brushStroke:Z,brushOpacity:ee,onChangeBrushStroke:K,onChangeBrushOpacity:te})})]}),Object(o.jsxs)("div",{className:"w-2/4 flex flex-col gap-5",children:[Object(o.jsxs)("div",{className:"flex flex-col",children:[Object(o.jsx)("button",{className:"btn btn-primary w-full h-16",disabled:!C,onClick:Se,children:"Generate"}),Object(o.jsx)("button",{className:"self-end btn btn-link btn-xs italic opacity-80",onClick:Ne,children:"Reset to default params"})]}),Object(o.jsx)("p",{className:"text-xs text-center italic opacity-60",children:"We don't collect or share images. Everything is done locally."})]})]})});return Object(o.jsx)("div",{className:"card glass text-neutral-content",children:e})}():Object(o.jsxs)("div",{className:"flex flex-col items-center text-neutral-content",children:[Object(o.jsx)(d,{}),"Loading OpenCV library"]}),Object(o.jsx)("img",{className:"hidden",id:"imageSrc",alt:"No Image",ref:r,onLoad:function(){return S(!0)}}),Object(o.jsxs)("div",{className:"w-full flex flex-col items-center gap-8 p-5 card glass text-neutral-content rounded-box",children:[Object(o.jsx)("h2",{className:"text-3xl font-bold text-neutral-content",children:"Results"}),Object(o.jsx)(u,{steps:ie,currentStep:j}),Object(o.jsx)("div",{className:"w-full flex flex-col items-center gap-2",children:se.map((function(e,t){return"finalResult"===e?Object(o.jsx)("div",{className:"w-full",ref:c,children:Object(o.jsx)(w,{toggleCanvas:function(){return ke(t)},title:Oe[t],canvasId:e,collapsible:C,collapse:pe[t],format:ue,children:Object(o.jsx)("p",{className:"text-base font-semibold",children:"Not fully satisfied \ud83d\ude05. Try again by changing default parameters."})})},e):Object(o.jsx)(w,{toggleCanvas:function(){return ke(t)},title:Oe[t],canvasId:e,collapsible:C,collapse:pe[t],format:ue},e)}))})]})]}),Object(o.jsx)(p,{})]})})},ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(Ne,{})}),document.getElementById("root")),ye()}},[[68,1,2]]]);
//# sourceMappingURL=main.42f2e1c6.chunk.js.map